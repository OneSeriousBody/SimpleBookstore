<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Login</title>
 </head>
<style>
	h3{
		margin-left:100px;
	}
	#a1{
		margin-left:200px;
	}
	#a2{
		margin-left:200px;
	}
	#a5{
		margin-left:200px;
	}
	#a6{
		margin-left:260px;
	}
	#a8{
		margin-left:300px;
	}
	.font1{
		display:inline-block;
		background: #AABCEF;
		padding:2px 8px;
		letter-spacing:3px;
		font-family:'宋体';
		border-radius:5px;
	}
</style>
 <script type="text/javascript">

 	var a = '';
 	
 	function check(){
 		var username = document.getElementById("username");
 		var password = document.getElementById("password");
 		var check1 = document.getElementById("check1");
 		var verify = document.getElementById("verify");
 		
 		if(check1.checked){}else{
 			alert("请先勾选阅读协议！");
			window.location.reload();
 			return false;
 		}
 		
 		var i = 0;
 		if(username.value == "user" && password.value == "123456") { 
            
        }else { 
            alert("登录名或密码错误！");
			window.location.reload();
            return false; 
        } 

		if(verify.value.toUpperCase() != a.toUpperCase()){
 			alert("验证码错误");
			window.location.reload();
			return false;
		}

		setCookie('username','user',1);     /* 过期时间为1天 */

		alert("登录成功，网上书城欢迎您！");
		return true;
 		
 	}

	function setCookie(c_name,value,expiredays){
		var exdate = new Date();
		exdate.setDate(exdate.getDate()+expiredays);
		/* escape()对字符串进行编码,将一些特殊符号使用十六进制表示;toGMTString():日期转换为（根据 GMT）字符串-Wed, 11 Dec 2019 06:48:42 GMT */
		document.cookie = c_name+ "=" + escape(value) + ((expiredays == null) ? "" : ";expires="+exdate.toGMTString());    
	}


	function code(){
		var font1 = document.getElementById('font1');
		var astr = ['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','g','h','i','j',
			'k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E',
			'F','G','H','I','J','K','L','M','N','O','P','T','R','S','T','U','V','W','X','Y','Z'];
		var s = "";

		for(var i=0;i<4;i++){
				var j = Math.floor(Math.random()*astr.length);
				s += astr[j];
		}
		font1.innerHTML = s;
		a = s;
	}

	window.onload = code;
	
 </script>
 <body>
  <h3>网上书城欢迎您，请先登录</h1>
<form action="online-bookstore.html" target="_self">
  <span id="a1">用户名：</span><input type="text" id="username" value=""/> </font><br/><br/>
  <span id="a2">密　码：</span><input type="password" id="password" value="" size=21/> <br/><br/>
  <span id="a5">验证码：</span><input type="text" id="verify" />
  						<font class="font1" id="font1" ></font>
						<a href="#" onclick="code()">换一张</a><br/>
  <p id="a6"><input type="checkbox" id="check1"/>我已经阅读并同意 
  <a href="http://cn.bing.com/">《网上书城用户协议》</a></p>
  <input id="a8" type="submit" value="登录" onclick="return check()"/>
</form> 
 </body>
</html>